<mat-horizontal-stepper class="container shadow rounded p-5">
    <mat-step label="Category" [stepControl]="firstFormGroup" errorMessage="Category is required.">
        <form class="form-floating" [formGroup]="firstFormGroup">
            <ng-template matStepLabel>Enter Category</ng-template>

            <div class="input-box form-group">
                <input [class.is-invalid]="category?.invalid && category?.touched" class="form-control" formControlName ="firstCtrl" type="text"  pattern="^[A-Za-z]{5,}$"  required>
                <label>Enter Category</label>
                <div class="check container mt-4 pt-1" *ngIf="category?.invalid && category?.touched">
                <label *ngIf="category.errors?.['required']" class="text-danger">Category is Required</label>
                <label *ngIf="category.errors?.['pattern']" class="text-danger">Invalid Category</label>
                </div> 
            </div>

            <div class="mt-3">
            <button mat-button matStepperNext>Next</button>
            </div>
        </form>
    </mat-step>

    <mat-step label="Create Post" [stepControl]="secondFormGroup" errorMessage="First Post is required">
            <form [formGroup]="secondFormGroup">
                <ng-template matStepLabel>Create Post</ng-template>

                <div class="topic">Post Content</div>

                <div class="input-box form-group">
                  <input [class.is-invalid]="head?.invalid && head?.touched"  class="form-control" formControlName ="head" type="text" pattern='^[A-Za-z]{6,}$' required>
                  <label>Post Heading</label>
                  <div class="check container mt-4 pt-1" *ngIf="head?.invalid && (head.dirty || head?.touched)">
                      <label *ngIf="head.errors?.['required']" class="text-danger">Heading is Required</label>
                      <label *ngIf="head.errors?.['pattern']" class="text-danger">Heading must have at least 6 characters</label>
                  </div>
                </div>
                <div class="pt-1"></div>
          
                <div class="input-box form-group">
                  <input [class.is-invalid]="subhead?.invalid && subhead?.touched" class="form-control" formControlName ="subhead" type="text" pattern="^[\w\s(?=.*[@$!%*?&])]{10,}$" required>
                  <label>Post Subheading</label>
                  <div class="check container mt-4 pt-1" *ngIf="subhead?.invalid && (subhead.dirty || subhead?.touched)">
                    <label *ngIf="subhead.errors?.['required']" class="text-danger">Subhead is Required</label>
                    <label *ngIf="subhead.errors?.['pattern']" class="text-danger">Invalid Subhead</label>
                </div>
            </div>
            <div class="pt-1"></div>
            
            
            <div class="input-box form-group">
                <input [class.is-invalid]="image?.invalid && image?.touched" class="form-control" formControlName ="image" type="text" required>
                <label>Post Background Image</label>
                <div class="check container mt-4 pt-1" *ngIf="image?.invalid && image?.touched">
                    <label *ngIf="image.errors?.['required']" class="text-danger">Image is Required</label>
                    </div>
                </div>
                <div class="pt-1"></div>
                
                <div class=" input-box form-group">
                    <textarea class="form-control py-3" id="bodyInput" autosize data-cy="bodyInput" placeholder="Post body text (markdown supported)" formControlName="body" [class.is-valid]="bodyControlValid" [class.is-invalid]="bodyControlInvalid"></textarea>
                    <div class="check container mt-4 pt-1" *ngIf="body?.invalid && (body.dirty || body?.touched)">
                        <div class="invalid-feedback" *ngIf='bodyControl.hasError("required")'>Body content required</div>
                        <div class="invalid-feedback" *ngIf='bodyControl.hasError("body")'>Body content is not valid</div>
                    </div>
                </div>
                <div class="pt-1"></div>
                
                    <div class="mt-3">
                        <button mat-button matStepperPrevious>Back</button>
                        <button mat-button matStepperNext>Next</button>
                    </div>
            </form>
    </mat-step>

    <mat-step>
        <ng-template matStepLabel>Done</ng-template>
        <p>On hitting Submit a New Category will be created.</p>
        <div>
          <button mat-button >Submit</button>
        </div>
      </mat-step>
  </mat-horizontal-stepper>